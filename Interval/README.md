:link:[**转至功图软件用户手册**](./Interval/):link:[**转至数据库文档**](./database/):link:

# 《敏捷生产V7.1—电参反演软件》用户手册  

- [第一章 系统介绍](README.md#第一章系统介绍)
    - [1.1 系统概述](README.md#1.1系统概述)
    - [1.2 环境要求](README.md#1.2环境要求)
    - [1.3 授权说明](README.md#1.3授权说明)
- [第二章 应用介绍](README.md#第二章应用介绍)  
    - [2.1 用户登录](README.md#2.1用户登录)
    - [2.2 页面布局](README.md#2.2页面布局)
    - [2.3 实时评价](README.md#2.3实时评价)
      - [2.3.1 区域概况](README.md#2.3.1区域概况)
      - [2.3.2 单井详情](README.md#2.3.2单井详情)
      - [2.3.3 曲线验证](README.md#2.3.3曲线验证)
      - [2.3.4 图形查询](README.md#2.3.4图形查询)
    - [2.4 全天评价](README.md#2.4全天评价)
      - [2.4.1 区域概况](README.md#2.4.1区域概况)
      - [2.4.2 单井详情](README.md#2.4.2单井详情)
    - [2.5 权限管理](README.md#2.5权限管理)
      - [2.5.1 单位管理](README.md#2.5.1单位管理)
      - [2.5.2 用户管理](README.md#2.5.2用户管理)
      - [2.5.3 角色管理](README.md#2.5.3角色管理)  
    - [2.6 数据配置](README.md#2.6数据配置)  
      - [2.6.1 井名信息](README.md#2.6.1井名信息) 
    - [2.7 系统配置](README.md#2.7系统配置)   
      - [2.7.1 字典配置](README.md#2.7.1字典配置) 
      - [2.7.2 统计配置](README.md#2.7.2统计配置) 
      - [2.7.3 报警配置](README.md#2.7.3报警配置) 

# 第一章 系统介绍

## 1.1 系统概述

&emsp;&emsp;《电参反演软件》通过电参反演装置采集电参有功功率和电机转速周期曲线数据，结合抽油机运动参数(位置扭矩因数、平衡块位置和重量、曲柄重量、重心半径等)，进行电参转示功图；安装的设备主要包括电参采集模块、电机转速霍尔开关传感器、曲柄位置开关传感器。  
&emsp;&emsp;**优势：**  
&emsp;&emsp;1、不需要历史功图，直接利用电参转示功图，及时反映油井工况变化；  
&emsp;&emsp;2、应用简单，现场只需确认平衡块位置即可。

## 1.2 环境要求

**Web服务器**  
>- CPU：2核及以上  
>- 内存：8G及以上  
>- 硬盘：500G及以上  
>- 操作系统：建议Windows server 2012 64位及以上  
>- 数据库：Oracle 11g及以上  
>- JDK：8.0及以上  
>- Tomcat：9.0及以上

## 1.3 授权说明

&emsp;&emsp;系统适用于Windows、Linux、Mac 64位及32位操作系统，请在购买时注明所需部署机器的版本型号、IP地址以及网卡物理地址。

# 第二章 应用介绍

## 2.1 用户登录

&emsp;&emsp;本地：**http://IP:16100/ap**  
&emsp;&emsp;用户名：system  
&emsp;&emsp;密码：123456

&emsp;&emsp;公有云：**http://39.98.134.121:16100/ap**  
&emsp;&emsp;用户名、密码请咨询本公司

&emsp;&emsp;**浏览器要求：建议谷歌浏览器、360浏览器极速模式、IE9以上版本**

![登录首页](.././Image/PNG/002.png?raw=true)


## 2.2 页面布局

>1. banner区：包括修改密码、退出、帮助及全屏按钮；  
>2. 功能导航区：系统各主功能模块；  
>3. 组织导航区：用户组织结构；  
>4. 数据列表：井信息；  
>5. 单井数据区：反演结果、采集和分析数据。

&emsp;&emsp;通过点击界面中缝位置的图标![伸缩按钮](.././Image/PNG/025.png?raw=true)或![伸缩按钮](.././Image/PNG/026.png?raw=true)可实现界面伸缩。

![页面布局](.././Image/PNG/102.png?raw=true)

![列表伸缩](.././Image/GIF/101.gif?raw=true)

## 2.3 实时评价

&emsp;&emsp;根据油井的动静态数据对单井进行实时评价。

### 2.3.1 区域概况

&emsp;&emsp;显示整体区域的概况，点击饼图中想要查看的内容可直接跳转到单井详情界面。

![实时评价-区域概况](.././Image/PNG/104.png?raw=true)

### 2.3.2 单井详情

&emsp;&emsp;单井详情分为两个部分，一部分是曲线数据；另一部分为离散数据。可以通过点击界面下方标签页切换。  
  
#### 2.3.2.1 曲线数据  
  
>1. 查看单井实时曲线数据，包括反演得导的地面功图、电功图、电流图以及采集的电流、有功功率、转速周期曲线等；
>2. 双击所要查看的单井所在行或选择该行点击右上角“查看历史”可切换到该井的历史数据。点击右上角“返回实时”返回实时列表。  

![单井详情-曲线数据-实时](.././Image/PNG/105.png?raw=true)  
  
![单井详情-曲线数据-历史](.././Image/PNG/106.png?raw=true)  

![单井详情-曲线数据-分析](.././Image/PNG/107.png?raw=true)  

![单井详情-曲线数据-采集](.././Image/PNG/108.png?raw=true)  

#### 2.3.2.2 离散数据  
  
>1. 查看各井实时的通信状态、运行状态、电参工况、时率、各相电流电压、平衡状态、日耗电量、信号强度以及设备版本等。  
>2. 双击所要查看单井的所在行或选择该行点击右上角“查看历史”可切换到该井的历史数据。点击右上角“返回实时”返回实时列表。 

![单井详情-离散数据-实时](.././Image/PNG/109.png?raw=true)  
  
![单井详情-离散数据-历史](.././Image/PNG/110.png?raw=true)  

![单井详情-离散数据-采集](.././Image/PNG/111.png?raw=true) 

### 2.3.3 曲线验证

&emsp;&emsp;按一周期360个点（1个/度）绘制出曲柄角度-悬点载荷曲线，支持导出Excel。

![曲线验证](.././Image/PNG/120.png?raw=true)  

### 2.3.4 图形查询

![图形查询](.././Image/PNG/112.png?raw=true)

## 2.4 全天评价  

### 2.4.1 区域概况

&emsp;&emsp;显示整体区域的概况，点击饼图中想要查看的内容可直接跳转到单井详情界面。

![全天评价-区域概况](.././Image/PNG/113.png?raw=true)  

### 2.4.2 单井详情

![全天评价-单井详情-当天](.././Image/PNG/114.png?raw=true)  

![全天评价-单井详情-历史](.././Image/PNG/115.png?raw=true)

![全天评价-单井详情-分析](.././Image/PNG/116.png?raw=true)

![全天评价-单井详情-采集](.././Image/PNG/117.png?raw=true)

## 2.5 权限管理

&emsp;&emsp;系统部署完成后需要新建单位、用户并划分权限。

### 2.5.1 单位管理

1. 使用系统管理员账号登录系统。  
2. 进入**单位管理**模块创建单位组织。如模拟油田公司—模拟采油厂—四矿。  
3. 点击![创建按钮](.././Image/PNG/015.png?raw=true)，创建模拟油田公司；填写完成后，点击![保存按钮](.././Image/PNG/016.png?raw=true)，完成创建。  
>- 上级单位：由于模拟油田公司为根节点，上级单位不选择；  
>- 单位类别：按实际选择，局级；  
>- 单位名称：模拟油田公司；  
>- 单位编码、单位级别：确定上级单位、单位类别后自动生成；  
>- 单位说明：可不填写。  

4. 点击![创建按钮](.././Image/PNG/015.png?raw=true)，创建模拟采油厂；填写完成后，点击![保存按钮](.././Image/PNG/016.png?raw=true)，完成创建。  
>- 上级单位：已创建根节点，选择模拟油田公司；  
>- 单位类别：按实际选择，厂级；
>- 单位名称：模拟采油厂。  

5. 依次完成各级单位组织创建。

![创建模拟油田公司](.././Image/GIF/002.gif?raw=true)  

![创建模拟采油厂](.././Image/GIF/003.gif?raw=true)

### 2.5.2 用户管理

&emsp;&emsp;接下来进入**用户管理**模块，为不同的单位组织创建用户。点击![创建按钮](.././Image/PNG/015.png?raw=true)，创建新用户；填写完成后，点击![保存按钮](.././Image/PNG/016.png?raw=true)，完成创建。  
>- 单位名称：选择已创建的单位组织，确定组织的用户登录后，只能看到该组织及该组织的下属单位对应的信息；  
>- 角色：包括数据管理、数据分析、系统管理等，不同的角色拥有不同的权限;  
>- 用户名称、用户账号、用户密码：按实际填写;
>- 用户电话、内部邮箱：可不填写;  
>- 快捷登录：在登录界面是否可以免密登录，一般用于数据查询人员。

![创建用户](.././Image/GIF/004.gif?raw=true)

### 2.5.3 角色管理

&emsp;&emsp;进入**角色管理**模块，创建不同的角色，通过权限授予为不同的角色设置模块访问权限。系统内置多个角色，如数据管理、数据分析、系统管理（系统管理员用户，不可修改）等。  
1. 点击![创建按钮](.././Image/PNG/015.png?raw=true)，创建新角色。  
>- 角色名称：自定义，便于识别角色；  
>- 角色编码：自定义，用于开发人员识别，用户不会用到；  
>- 角色描述：角色具体功能描述。

2. 在右侧权限角色授予界面为新角色配置可访问的模块，点击![保存按钮](.././Image/PNG/033.png?raw=true)，完成权限授予。  

![创建用户](.././Image/PNG/034.png?raw=true)

## 2.6 数据配置

&emsp;&emsp;配置采集和计算所需的数据，包括井名信息、生产数据，可从编辑好的Excel中粘贴过来。

### 2.6.1 井名信息

#### 2.6.1.1数据收集

>- 单位名称：井所属单位，单位管理中创建的单位名称；  
>- 井名； 
>- 设备地址：设备ID号；   
>- 功图采集间隔：现场功图采集的时间间隔；  
>- 状态：时间是否已同步至前端设备，包括等待下发、已同步；  
>- 离散采集间隔：离散数据的采集间隔，如电流、电压等；  
>- 数据保存间隔：数据保存进数据库的时间间隔；   
>- 排序编号：井名在系统显示时的排序。

#### 2.6.1.2数据录入

&emsp;&emsp;在Excel中编辑好后粘贴至井名信息模块中，可先点击导出按钮导出Excel模板。  
**注意：**  
**（1）录入时需要先在组织导航中选择录入井所在的组织，如四矿；否则会提示“请先选择组织节点”。**  
**（2）复制时序号列不要复制。**

![井名信息录入](.././Image/GIF/005.gif?raw=true)

#### 2.6.1.3修改井名

&emsp;&emsp;在列表中修改井名，完成后点击![修改井名按钮](.././Image/PNG/012.png?raw=true)。  
**注意：**  
**（1）不要删除修改井，再重新录入新井，会导致历史数据丢失；**  
**（2）修改完成后，点击“修改井名”按钮，不要点击“保存”按钮。**

![修改井名](.././Image/GIF/006.gif?raw=true)

#### 2.6.1.4删除数据

&emsp;&emsp;选中一行或多行，右键，选择删除行，然后点击![保存按钮](.././Image/PNG/033.png?raw=true)。

![删除数据](.././Image/GIF/007.gif?raw=true)

## 2.7 系统配置

### 2.7.1 字典配置

&emsp;&emsp;对各模块显示的字段进行管理，主要修改字段名称、显示顺序、是否显示等。

![字典配置](.././Image/PNG/119.png?raw=true)

### 2.7.2 统计配置

&emsp;&emsp;配置各项参数的统计级别。

![统计配置](.././Image/PNG/023.png?raw=true)

### 2.7.3 报警配置

&emsp;&emsp;设置工况类型的报警类型、报警项、级别、开关、颜色等。

![报警配置](.././Image/PNG/024.png?raw=true)